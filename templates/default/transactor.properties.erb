################################################################

protocol=<%= @protocol %>
host=<%= @host %>
port=<%= @port %>

################################################################
# See http://docs.datomic.com/storage.html

license-key=<%= @license_key %>

################################################################
# See http://docs.datomic.com/storage.html

<%- if @riak_host %>riak-host=<%= @riak_host %><% end -%>
<%- if @riak_port %>riak-port=<%= @riak_port %><% end -%>
<%- if @riak_bucket %>riak-bucket=<%= @riak_bucket %><% end -%>
<%- if @riak_interface %>riak-interface=<%= @riak_interface %><% end -%>
<%- if @sql_url %>sql-url=<%= @sql_url %><% end %>
<%- if @sql_user %>sql-user=<%= @sql_user %><% end %>
<%- if @sql_password %>sql-password=<%= @sql_password %><% end %>
<%- if @sql_driver_class %>sql-driver-class=<%= @sql_driver_class %><% end -%>


################################################################
# See http://docs.datomic.com/capacity.html

memory-index-threshold=<%= @memory_index_threshold %>
memory-index-max=<%= @memory_index_max %>
object-cache-max=<%= @object_cache_max %>


## OPTIONAL ####################################################

# Set to false to disable SSL between the peers and the transactor.
# Default: true
encrypt-channel=<%= @encrypt_channel ? "true" : "false" %>

# Data directory is used for dev: and free: storage, and
# as a temporary directory for all storages.
data-dir=<%= @data_dir %>

# Transactor will log here, see bin/logback.xml to configure logging.
log-dir=<%= @log_dir %>

# Transactor will write process pid here on startup
# pid-file=transactor.pid

## OPTIONAL ####################################################
# See http://docs.datomic.com/storage.html
# Memcached configuration.

# memcached=host:port,host:port,...

## OPTIONAL ####################################################
# See http://docs.datomic.com/capacity.html

write-concurrency=<%= @write_concurrency %>
read-concurrency=<%= @read_concurrency %>

## OPTIONAL ####################################################
# See http://docs.datomic.com/aws.html
# Optional settings for rotating logs to S3
# (Can be auto-generated by bin/datomic ensure-transactor.)

# aws-s3-log-bucket-id=

## OPTIONAL ####################################################
# See http://docs.datomic.com/aws.html
# Optional settings for Cloudwatch metrics.
# (Can be auto-generated by bin/datomic ensure-transactor.)

# aws-cloudwatch-region=

# Pick a unique name to distinguish transactor metrics from different systems.
# aws-cloudwatch-dimension-value=your-system-name

## OPTIONAL ####################################################
# See http://docs.datomic.com/ha.html

# # The transactor will write a heartbeat into storage on this interval.
# A standby transactor will take over if it sees the heartbeat go
# unwritten  for 2x this interval. If your transactor load leads to
# long gc pauses, you can increase this number to prevent the standby
# transactor from unnecessarily taking over during a long gc pause.
# Default: 5000, Miniumum: 5000
heartbeat-interval-msec=<%= @heartbeat_interval %>
